openapi: 3.0.0
info:
  title: myIoT
  version: '1.0'
  description: ''
  contact: {}
  license:
    name: MasterIT technologies a.s.
servers:
  - url: 'https://develop.masterit.cz'
    description: develop
paths:
  /api/customer/email/exist:
    get:
      summary: Account Check Request
      operationId: get-api-customer-email-exist
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/APIResult'
              examples:
                OK - email existuje:
                  value:
                    status: ok
                    err_msg: ''
                    err_code: 0
                    data: true
                OK - email neexistuje:
                  value:
                    status: ok
                    err_msg: ''
                    err_code: 0
                    data: false
      description: |-
        Metoda zkontroluje existenci emailu pro danou aplikaci

        [API check email existantion for entered application]
      tags:
        - authorization
      parameters:
        - schema:
            type: string
          in: query
          name: email
          description: email u kterého zjišťujeme existenci
          required: true
        - schema:
            type: string
            example: myIoT
          in: query
          name: app
          description: 'aplikace pro kterou, zjištujeme existenci emailu'
          required: true
    parameters: []
  /api/login:
    post:
      summary: Login Request
      operationId: post-api-login
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/APIResult'
              examples:
                OK:
                  value:
                    status: ok
                    err_msg: ''
                    err_code: 0
                    data:
                      access_token: token
                      token_type: bearer
                      expires_in: 604800
                      user:
                        note: ''
                        type: scc
                        birth: null
                        email: email@gmail.com
                        recID: 999
                        sccID: 1
                        config:
                          rights:
                            role: user
                            appList: []
                            appRole: []
                            groupID: _default
                            cityList: []
                            groupList: []
                            deviceList: []
                        gender: null
                        mobile: ''
                        userID: 93
                        lastName: Test
                        appUserID: -1
                        firstName: Test
                        userGroup: masterit
                        profession: null
                        sendInvoice: null
                        transportID: null
                        userType: 0
                        tokenID: xxxxxxx-xxxx-xxxx-xxxx-xxxxxxxx
                        userLogin: loginTest
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/APIResult'
              examples:
                Chybné vstupní parametry:
                  value:
                    status: error
                    err_msg: Chybné vstupní parametry
                    err_code: -2000
                    data: null
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/APIResult'
              examples:
                Uživatel nenalezen:
                  value:
                    status: error
                    err_msg: Uživatel nebyl nalezen
                    err_code: -3001
                    data: null
                Nesprávné heslo:
                  value:
                    status: error
                    err_msg: Uživatelské heslo není správné
                    err_code: -3002
                    data: null
                Uživatelský účet není ověřený:
                  value:
                    status: error
                    err_msg: Uživatelský účet není ověřený
                    err_code: -3003
                    data: null
      description: |-
        Provede přihlášení do SCC a získání tokenu

        [API provides signing in to SCC and token obtaining]
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                type:
                  type: string
                  description: 'typ přihlášení (scc, email, google, facebook)'
                  example: email
                password:
                  type: string
                  description: uživatelské heslo u facebooku a google nevyžadováno
                login:
                  type: string
                  description: login uživatele (v případě google a fb se zde posílá token)
                application:
                  type: string
                  description: aplikace ze které se přihlašuji
                  example: myIoT
              required:
                - type
                - password
                - login
                - application
            examples:
              SCC:
                value:
                  type: scc
                  login: loginTest
                  password: xxxxxxxxx
              Email:
                value:
                  type: email
                  login: email@gmail.com
                  password: xxxxxxxxxxx
                  application: myIoT
              Google:
                value:
                  login: longGoogle token
                  type: google
              facebook:
                value:
                  login: longFB token
                  type: facebook
        description: ''
      tags:
        - authorization
      parameters:
        - schema:
            type: string
            default: application/json
          in: header
          name: Content-Type
          required: true
  api/customer/register:
    post:
      summary: Create Account Request
      operationId: post-customer-register
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/APIResult'
              examples:
                OK:
                  value:
                    status: ok
                    err_msg: ''
                    err_code: 0
                    data:
                      note: tests
                      type: scc
                      email: test@test.test
                      recID: 0
                      sccID: 1
                      config:
                        rights:
                          role: user
                          appList: []
                          groupID: _default
                          cityList: []
                          groupList: []
                          deviceList: []
                      mobile: ''
                      userID: 0
                      lastName: test
                      appUserID: -1
                      firstName: test
                      userGroup: common
                      userType: 0
                      tokenID: ''
                      userLogin: slTest
                      userApp: default
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/APIResult'
              examples:
                Email je již používán:
                  value:
                    status: error
                    err_msg: Email je již používán
                    err_code: -3004
                    data: null
                Email není validní:
                  value:
                    status: error
                    err_msg: Email není validní
                    err_code: -22
                    data: null
                Heslo je příliš krátké:
                  value:
                    status: error
                    err_msg: Heslo je příliš krátké
                    err_code: -2002
                    data: null
      description: |-
        Registrace customera

        [Customer signing up]
      parameters:
        - schema:
            type: string
            default: application/json
          in: header
          name: Content-type
          description: typ obsahu
        - schema:
            type: string
            default: cs
          in: query
          name: locale
          description: jazyková mutace
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties: {}
            examples:
              Vytvoření uživatele:
                value:
                  application: myIoT
                  birth: '1982'
                  email: xxxx.xxxx@xxxx.com
                  gender: male
                  login: testxxxx
                  password: xxxx123
                  type: email
              Vytvoření na základě pozvánky:
                value:
                  application: myIoT
                  birth: '1982'
                  email: xxxx.xxxx@xxxx.com
                  gender: male
                  login: testxxxx
                  password: xxxx123
                  type: email
                  requestID: ID pozvánky
        description: ''
      tags:
        - customers
    parameters: []
  /api/recovery/password:
    post:
      summary: Password reset Request
      operationId: post-api-recovery-password
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/APIResult'
              examples:
                OK:
                  value:
                    status: ok
                    err_msg: ''
                    err_code: 0
                    data:
                      mailExists: true
      description: |-
        Kontroluje zda existuje uživatel s tímto emailem, pokud ano přepošle mu na email odkaz pro změnu hesla a vrací true

        [API checks if a user with this email exists, if so, sends the password change link to the email and returns true]
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                email:
                  type: string
                  description: 'email, kam se má zaslat odkaz'
                customer:
                  type: boolean
                  description: true pokud je užvatel customer
                app:
                  type: string
                  description: aplikace u které chci měnit heslo k účtu
              required:
                - email
                - customer
                - app
            examples:
              SCC:
                value:
                  email: tst@test.cz
                  customer: true
                  app: myIoT
        description: ''
      tags:
        - password-recovery
      parameters:
        - schema:
            type: string
            default: application/json
          in: header
          name: Content-Type
          required: true
  api/customer/confirm/send:
    get:
      summary: Resend email verification Request
      operationId: get-customer-confirm-send
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/APIResult'
              examples:
                OK:
                  value:
                    status: ok
                    err_msg: ''
                    err_code: 0
                    data: null
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/APIResult'
              examples:
                Požadována data neexistují:
                  value:
                    status: error
                    err_msg: Požadována data neexistují
                    err_code: -2006
                    data: null
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/APIResult'
              examples:
                Nedostatečné oprávnění:
                  value:
                    status: error
                    err_msg: Nedostatečné oprávnění
                    err_code: -4000
                    data: null
      description: |-
        Odešle potvrzovací email na zadanou emailovou adresu

        [Sends a confirmation email to the specified email address]
      parameters:
        - schema:
            type: string
          in: query
          name: email
          description: 'email uživatele, který se musí potvrdit'
        - schema:
            type: string
          in: query
          name: app
          description: aplikace ke které se email váže
        - schema:
            type: string
            default: cs
          in: query
          name: locale
          description: jazyková mutace
      tags:
        - customers
    parameters: []
  /api/app/mob/myiot/channel/list:
    get:
      summary: 'Get Info channel list Request, Search Info channel Request'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/APIResult'
              examples:
                OK - all:
                  value:
                    status: ok
                    err_msg: ''
                    err_code: 0
                    data:
                      - data:
                          url: 'https://www.dpo.cz'
                        icon: null
                        name: Dopravní podnik Ostrava a.s.
                        type: adm
                        cisID: 100
                        color: '#000000'
                        recID: 33918
                        sccID: 1
                        itemID: dpo
                        public: true
                        changed: '2018-12-05T14:07:38'
                        created: '2018-12-04T15:28:50'
                        groupID: _common
                        iconUrl: null
                        imageUrl: null
                        changedBy: -1
                        createdBy: -1
                        description: Městská hromadná doprava v Ostravě.
                      - data: {}
                        icon: null
                        name: Master IT
                        type: adm
                        cisID: 100
                        color: '#000000'
                        recID: 31344
                        sccID: 1
                        itemID: mitt
                        public: false
                        groupID: _default
                        iconUrl: null
                        imageUrl: null
                        description: ''
                        created: '2018-11-20T09:23:48'
                        createdBy: -1
                        changed: ''
                        changedBy: null
                      - data:
                          url: 'https://www.ostrava.cz'
                        icon: null
                        name: Město Ostrava
                        type: adm
                        cisID: 100
                        color: '#000000'
                        recID: 33919
                        sccID: 1
                        itemID: ostrava
                        public: true
                        changed: '2019-01-16T13:26:40'
                        created: '2018-12-04T15:28:50'
                        groupID: _common
                        iconUrl: null
                        imageUrl: null
                        changedBy: -1
                        createdBy: -1
                        description: 'Statutární, krajské a univerzitní město na severovýchodě České republiky v Moravskoslezském kraji'
                OK - name == dop...:
                  value:
                    status: ok
                    err_msg: ''
                    err_code: 0
                    data:
                      - data:
                          url: 'https://www.dpo.cz'
                        icon: null
                        name: Dopravní podnik Ostrava a.s.
                        type: adm
                        cisID: 100
                        color: '#000000'
                        recID: 33918
                        sccID: 1
                        itemID: dpo
                        public: true
                        changed: '2018-12-05T14:07:38'
                        created: '2018-12-04T15:28:50'
                        groupID: _common
                        iconUrl: null
                        imageUrl: null
                        changedBy: -1
                        createdBy: -1
                        description: Městská hromadná doprava v Ostravě.
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/APIResult'
              examples:
                Nedostatečné oprávnění:
                  value:
                    status: error
                    err_msg: Nedostatečné oprávnění
                    err_code: -4000
                    data: null
      operationId: get-api-app-mob-myiot-channel-list
      description: |-
        Metoda vrátí seznam info kanálů popř seznam jehož položky začínají na name

        [The method returns a list of info channels or a list whose items start with name in query params]
      parameters:
        - schema:
            type: string
          in: query
          name: name
          description: název kanálu (pro vyhledávání)
          required: true
        - schema:
            type: string
            default: cs
          in: query
          name: locale
          description: jazyková mutace
        - schema:
            type: integer
            default: 0
          in: query
          name: page
          description: stránka (počátek 0)
        - schema:
            type: integer
            default: 10
          in: query
          name: limit
          description: počet položek na stránku
      security:
        - Bearer token: []
      tags:
        - application-myIoT
  /api/app/mob/myiot/init:
    get:
      summary: Initialization Request
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/APIResult'
              examples:
                OK:
                  value:
                    status: ok
                    err_msg: ''
                    err_code: 0
                    data:
                      vendors:
                        - itemID: Advantech
                          name: Advantech
                          models:
                            - itemID: SR303
                              name: SmartFlex SR303 GPS
                            - itemID: SL304
                              name: SmartStart SL304
                        - itemID: CITIQ
                          name: CITIQ
                          models:
                            - itemID: CTQ.PRK
                              name: CTQ.PRK
                            - itemID: CTQ.TRN
                              name: CTQ.TRN
                        - itemID: Herman
                          name: Herman
                          models:
                            - itemID: UCU
                              name: UCU
                        - itemID: IoTVega
                          name: IoT Vega
                          models:
                            - itemID: VGA.AS0101
                              name: Smart-AS0101
                            - itemID: VGA.HS0101
                              name: Smart-HS0101
                            - itemID: VGA.MC0101
                              name: Smart-MC0101
                            - itemID: VGA.MS0101
                              name: Smart-MS0101
                        - itemID: MasterIT
                          name: Master IT Technologies
                          models:
                            - itemID: LGW.V1
                              name: LGW.V1
                            - itemID: LRB.BMP
                              name: LRB.BMP
                            - itemID: LRB.CAL.1
                              name: LRB.CAL.1
                            - itemID: LRB.CNT
                              name: LRB.CNT
                            - itemID: LRB.CO2
                              name: LRB.CO2
                            - itemID: LRB.CON
                              name: LRB.CON
                            - itemID: LRB.DHT
                              name: LRB.DHT
                            - itemID: LRB.GME
                              name: LRB.GME
                            - itemID: LRB.GPS
                              name: LRB.GPS
                            - itemID: LRB.MIO-ACC-3
                              name: LRB.MIO-ACC-3
                            - itemID: LRB.MIO-CNT-1
                              name: LRB.MIO-CNT-1
                            - itemID: LRB.MIO-CO2-B1
                              name: LRB.MIO-CO2-B1
                            - itemID: LRB.MIO-ENV-1
                              name: LRB.MIO-ENV-1
                            - itemID: LRB.MIO-MET-1
                              name: LRB.MIO-MET-1
                            - itemID: LRB.MIO-SND-1
                              name: LRB.MIO-SND-1
                            - itemID: LRB.MIO-THR-1
                              name: LRB.MIO-THR-1
                            - itemID: LRB.MIO-USN-1
                              name: LRB.MIO-USN-1
                            - itemID: LRB.MPM
                              name: LRB.MPM
                            - itemID: LRB.PME
                              name: LRB.PME
                            - itemID: LRB.PRK
                              name: LRB.PRK
                            - itemID: LRB.SND
                              name: LRB.SND
                            - itemID: LRB.UNI
                              name: LRB.UNI
                            - itemID: LRB.USN
                              name: LRB.USN
                            - itemID: LRB.WME
                              name: LRB.WME
                            - itemID: PRK.PAN
                              name: PRK.PAN
                        - itemID: Other
                          name: Other
                          models:
                            - itemID: OTHER
                              name: OTHER
                        - itemID: RCESystems
                          name: RCE Systems
                          models:
                            - itemID: RCE.CAM
                              name: RCE.CAM
                            - itemID: RCE.PRK
                              name: RCE.PRK
                        - itemID: SolidusTech
                          name: SolidusTech
                          models:
                            - itemID: SOL.CO2
                              name: CO2
                      infoChannels:
                        - itemID: dpo
                          name: Dopravní podnik Ostrava a.s.
                          imageUrl: ''
                          description: Městská hromadná doprava v Ostravě.
                        - itemID: mitt
                          name: Master IT
                          imageUrl: ''
                          description: ''
                        - itemID: ostrava
                          name: Město Ostrava
                          imageUrl: ''
                          description: 'Statutární, krajské a univerzitní město na severovýchodě České republiky v Moravskoslezském kraji'
                        - itemID: obecRopice
                          name: Obec Ropice
                          imageUrl: ''
                          description: Kanál obce Ropice
                      icons:
                        - itemID: Content/images/ico-barrier-24.png
                          name: ico-barrier
                          url: 'https://devproxy.masterit.cz/Content/images/-24.png'
                        - itemID: Content/images/ico-bell-24.png
                          name: ico-bell
                          url: 'https://devproxy.masterit.cz/Content/images/-24.png'
                        - itemID: Content/images/ico-bin-24.png
                          name: ico-bin
                          url: 'https://devproxy.masterit.cz/Content/images/-24.png'
                        - itemID: Content/images/ico-bus-24.png
                          name: ico-bus
                          url: 'https://devproxy.masterit.cz/Content/images/-24.png'
                        - itemID: Content/images/ico-bus-stop-24.png
                          name: ico-bus-stop
                          url: 'https://devproxy.masterit.cz/Content/images/-24.png'
                        - itemID: Content/images/ico-car-24.png
                          name: ico-car
                          url: 'https://devproxy.masterit.cz/Content/images/-24.png'
                        - itemID: Content/images/ico-cctv-24.png
                          name: ico-cctv
                          url: 'https://devproxy.masterit.cz/Content/images/-24.png'
                        - itemID: Content/images/ico-church-24.png
                          name: ico-church
                          url: 'https://devproxy.masterit.cz/Content/images/-24.png'
                        - itemID: Content/images/ico-city-24.png
                          name: ico-city
                          url: 'https://devproxy.masterit.cz/Content/images/-24.png'
                        - itemID: Content/images/ico-co2-24.png
                          name: ico-co2
                          url: 'https://devproxy.masterit.cz/Content/images/-24.png'
                        - itemID: Content/images/ico-crystal-24.png
                          name: ico-crystal
                          url: 'https://devproxy.masterit.cz/Content/images/-24.png'
                        - itemID: Content/images/ico-cyclist-24.png
                          name: ico-cyclist
                          url: 'https://devproxy.masterit.cz/Content/images/-24.png'
                        - itemID: Content/images/ico-digital-24.png
                          name: ico-digital
                          url: 'https://devproxy.masterit.cz/Content/images/-24.png'
                        - itemID: Content/images/ico-disabled-24.png
                          name: ico-disabled
                          url: 'https://devproxy.masterit.cz/Content/images/-24.png'
                        - itemID: Content/images/ico-drop-24.png
                          name: ico-drop
                          url: 'https://devproxy.masterit.cz/Content/images/-24.png'
                        - itemID: Content/images/ico-empty-24.png
                          name: ico-empty
                          url: 'https://devproxy.masterit.cz/Content/images/-24.png'
                        - itemID: Content/images/ico-flash-24.png
                          name: ico-flash
                          url: 'https://devproxy.masterit.cz/Content/images/-24.png'
                        - itemID: Content/images/ico-gps-24.png
                          name: ico-gps
                          url: 'https://devproxy.masterit.cz/Content/images/-24.png'
                        - itemID: Content/images/ico-graduation-24.png
                          name: ico-graduation
                          url: 'https://devproxy.masterit.cz/Content/images/-24.png'
                        - itemID: Content/images/ico-heart-24.png
                          name: ico-heart
                          url: 'https://devproxy.masterit.cz/Content/images/-24.png'
                        - itemID: Content/images/ico-hospital-24.png
                          name: ico-hospital
                          url: 'https://devproxy.masterit.cz/Content/images/-24.png'
                        - itemID: Content/images/ico-info-24.png
                          name: ico-info
                          url: 'https://devproxy.masterit.cz/Content/images/-24.png'
                        - itemID: Content/images/ico-level-24.png
                          name: ico-level
                          url: 'https://devproxy.masterit.cz/Content/images/-24.png'
                        - itemID: Content/images/ico-locomotive-24.png
                          name: ico-locomotive
                          url: 'https://devproxy.masterit.cz/Content/images/-24.png'
                        - itemID: Content/images/ico-parking-24.png
                          name: ico-parking
                          url: 'https://devproxy.masterit.cz/Content/images/-24.png'
                        - itemID: Content/images/ico-parking-meter-24.png
                          name: ico-parking-meter
                          url: 'https://devproxy.masterit.cz/Content/images/-24.png'
                        - itemID: Content/images/ico-pharmacy-24.png
                          name: ico-pharmacy
                          url: 'https://devproxy.masterit.cz/Content/images/-24.png'
                        - itemID: Content/images/ico-poi-24.png
                          name: ico-poi
                          url: 'https://devproxy.masterit.cz/Content/images/-24.png'
                        - itemID: Content/images/ico-server-24.png
                          name: ico-server
                          url: 'https://devproxy.masterit.cz/Content/images/-24.png'
                        - itemID: Content/images/ico-sign-24.png
                          name: ico-sign
                          url: 'https://devproxy.masterit.cz/Content/images/-24.png'
                        - itemID: Content/images/ico-signal-24.png
                          name: ico-signal
                          url: 'https://devproxy.masterit.cz/Content/images/-24.png'
                        - itemID: Content/images/ico-sine-waves-24.png
                          name: ico-sine-waves
                          url: 'https://devproxy.masterit.cz/Content/images/-24.png'
                        - itemID: Content/images/ico-smart-build-24.png
                          name: ico-smart-build
                          url: 'https://devproxy.masterit.cz/Content/images/-24.png'
                        - itemID: Content/images/ico-speaker-24.png
                          name: ico-speaker
                          url: 'https://devproxy.masterit.cz/Content/images/-24.png'
                        - itemID: Content/images/ico-speakers-24.png
                          name: ico-speakers
                          url: 'https://devproxy.masterit.cz/Content/images/-24.png'
                        - itemID: Content/images/ico-speaker-up-24.png
                          name: ico-speaker-up
                          url: 'https://devproxy.masterit.cz/Content/images/-24.png'
                        - itemID: Content/images/ico-speedometer-24.png
                          name: ico-speedometer
                          url: 'https://devproxy.masterit.cz/Content/images/-24.png'
                        - itemID: Content/images/ico-sun-24.png
                          name: ico-sun
                          url: 'https://devproxy.masterit.cz/Content/images/-24.png'
                        - itemID: Content/images/ico-switch-24.png
                          name: ico-switch
                          url: 'https://devproxy.masterit.cz/Content/images/-24.png'
                        - itemID: Content/images/ico-temp-24.png
                          name: ico-temp
                          url: 'https://devproxy.masterit.cz/Content/images/-24.png'
                        - itemID: Content/images/ico-tower-24.png
                          name: ico-tower
                          url: 'https://devproxy.masterit.cz/Content/images/-24.png'
                        - itemID: Content/images/ico-train-24.png
                          name: ico-train
                          url: 'https://devproxy.masterit.cz/Content/images/-24.png'
                        - itemID: Content/images/ico-train-station-24.png
                          name: ico-train-station
                          url: 'https://devproxy.masterit.cz/Content/images/-24.png'
                        - itemID: Content/images/ico-tram-24.png
                          name: ico-tram
                          url: 'https://devproxy.masterit.cz/Content/images/-24.png'
                        - itemID: Content/images/ico-troll-24.png
                          name: ico-troll
                          url: 'https://devproxy.masterit.cz/Content/images/-24.png'
                        - itemID: Content/images/ico-truck-24.png
                          name: ico-truck
                          url: 'https://devproxy.masterit.cz/Content/images/-24.png'
                        - itemID: Content/images/ico-wagon-24.png
                          name: ico-wagon
                          url: 'https://devproxy.masterit.cz/Content/images/-24.png'
                        - itemID: Content/images/ico-wave-24.png
                          name: ico-wave
                          url: 'https://devproxy.masterit.cz/Content/images/-24.png'
                        - itemID: Content/images/ico-wifi-24.png
                          name: ico-wifi
                          url: 'https://devproxy.masterit.cz/Content/images/-24.png'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/APIResult'
              examples:
                Nedostatečné oprávnění:
                  value:
                    status: error
                    err_msg: Nedostatečné oprávnění
                    err_code: -4000
                    data: null
      operationId: get-api-app-mob-myiot-init
      description: |-
        API vrátí inicializační data pro aplikaci myIoT

        [API returns initialization data for myIoT application]

        Sections:

        vendors - devices vendors contains id of vendor (itemID), name of vendor (name) and list of models which also contains id and name

        infoChannels - list of info channels which contains id, name and some properties for future processing like image (imageUrl) or channel description (description)

        icons - list of icons used in application, each icon object contain id, name and url (object structure will be probably changed, i think it will contain class of device which should use this icon)
      parameters:
        - schema:
            type: string
            default: cs
          in: query
          name: locale
          description: jazyková mutace
      security:
        - Bearer token: []
      tags:
        - application-myIoT
  api/customer/update:
    post:
      summary: UpdateCustomer Request (Set info-channel)
      operationId: post-customer-update
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/APIResult'
              examples:
                OK:
                  value:
                    status: ok
                    err_msg: ''
                    err_code: 0
                    data:
                      recID: 103
                      userID: 93
                      birth: 1994
                      gender: male
                      profession: technician
                      transportID: ''
                      mobile: '123456789'
                      email: xxxxx.xxxxx@xxxxx.com
                      defaultLang: null
                      sendInvoice: null
                      deviceList: []
                      infoChannels:
                        - dpo
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/APIResult'
              examples:
                Nedostatečné oprávnění:
                  value:
                    status: error
                    err_msg: Nedostatečné oprávnění
                    err_code: -4000
                    data: null
      description: |-
        Metoda uloží parametry customera do databaze, je povoleno pouze uložit vlastní parametry, uživatel je identifikován tokenem

        [The method stores the customer's parameters in the database, it is only allowed to save the custom parameters, the user is identified by a token]
      security:
        - Bearer token: []
      parameters: []
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties: {}
            examples:
              Update customera:
                value:
                  birth: 1994
                  email: xxxxx.xxxx@xxx.com
                  gender: male
                  mobile: '123456789'
                  profession: technician
                  recID: 0
                  transportID: ''
                  config:
                    infoChannels:
                      - dpo
        description: ''
      tags:
        - customers
    parameters: []
components:
  schemas:
    APIResult:
      title: APIResult
      type: object
      properties:
        status:
          type: string
        err_msg:
          type: string
        err_code:
          type: integer
        data:
          type:
            - 'null'
            - object
      x-examples:
        OK:
          status: ok
          err_msg: ''
          err_code: 0
          data: null
        ERROR:
          status: error
          err_msg: Nedostatečné oprávnění
          err_code: -4000
          data: null
  securitySchemes:
    Bearer token:
      type: http
      scheme: bearer
